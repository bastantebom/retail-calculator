---
id: axz3ijfn
title: Retail Calculator
file_version: 1.1.3
app_version: 1.18.42
---

We define a custome hook to separate UI with calculations, functions and data/state being used in our aplpication

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->

### ðŸ“„ src/RetailCalculator.tsx

```tsx
6        const {
7          data: { summary, price, code, quantity },
8          operations: {
9            handlePriceChange,
10           handleRegionChange,
11           handleQuantityChange,
12           handleCalculate,
13         },
14       } = useRetailCalculator();
```

<br/>

We applied sorting into the list of discounts. Assuming our discounts is an array of objects and we aren't sure that list was arrange correctly, This is important for the succeeding operations as we applied `find` if the calculated amount is less than the discount criteria. If our list of discounts were not sorted correctly then it will return the first item that will satisfy the criteria

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->

### ðŸ“„ src/useRetailCalculator.tsx

```tsx
38         const descendingDiscount = DiscountRates.sort(compareAmount);
```

<br/>

As per mentioned above we use find to get the corresponding discount

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->

### ðŸ“„ src/useRetailCalculator.tsx

```tsx
40         const discountRate =
41           descendingDiscount.find((discount) => discount.amount <= amount)?.rate ??
42           0;
43
```

<br/>

Example of array of object discount that is not sorted.

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->

### ðŸ“„ src/helper.ts

```typescript
6      export const DiscountRates: Array<DiscountRate> = [
7        { amount: 5000, rate: 0.05 },
8        { amount: 10000, rate: 0.1 },
9        { amount: 7000, rate: 0.07 },
10       { amount: 1000, rate: 0.03 },
11       { amount: 50000, rate: 0.15 },
12     ];
```

<br/>

<br/>

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBcmV0YWlsLWNhbGN1bGF0b3IlM0ElM0FiYXN0YW50ZWJvbQ==/docs/axz3ijfn).
